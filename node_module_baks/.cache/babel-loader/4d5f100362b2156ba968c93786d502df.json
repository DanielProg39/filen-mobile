{"ast":null,"code":"import React from \"react\";\nimport * as windowComponents from \"./components/window\";\nimport * as setupComponents from \"./components/setup\";\nimport * as routerComponents from \"./components/router\";\nimport * as loginComponents from \"./components/login\";\nimport * as itemsComponents from \"./components/items\";\nimport * as spawnComponents from \"./components/spawn\";\nimport * as searchComponents from \"./components/search\";\nimport * as renderComponents from \"./components/render\";\nimport * as registerComponents from \"./components/register\";\nimport * as userComponents from \"./components/user\";\nimport * as uploadComponents from \"./components/upload\";\nimport * as downloadComponents from \"./components/download\";\nimport * as settingsComponents from \"./components/settings\";\nimport * as socketCompontents from \"./components/socket\";\nimport * as language from \"./utils/language\";\n\nconst utils = require(\"./utils/utils\");\n\nexport default class App extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.initSocket = socketCompontents.initSocket.bind(this);\n    this.sendSocket = socketCompontents.sendSocket.bind(this);\n    this.windowRouter = windowComponents.windowRouter.bind(this);\n    this.setupWindowFunctions = windowComponents.setupWindowFunctions.bind(this);\n    this.setupListeners = setupComponents.setupListeners.bind(this);\n    this.setupStatusbar = setupComponents.setupStatusbar.bind(this);\n    this.doSetup = setupComponents.doSetup.bind(this);\n    this.routeTo = routerComponents.routeTo.bind(this);\n    this.routeToFolder = routerComponents.routeToFolder.bind(this);\n    this.goToFolder = routerComponents.goToFolder.bind(this);\n    this.goBack = routerComponents.goBack.bind(this);\n    this.showLogin = loginComponents.showLogin.bind(this);\n    this.showRegister = registerComponents.showRegister.bind(this);\n    this.updateUserKeys = userComponents.updateUserKeys.bind(this);\n    this.updateUserUsage = userComponents.updateUserUsage.bind(this);\n    this.updateItemList = itemsComponents.updateItemList.bind(this);\n    this.refreshMainList = itemsComponents.refreshMainList.bind(this);\n    this.selectItem = itemsComponents.selectItem.bind(this);\n    this.clearSelectedItems = itemsComponents.clearSelectedItems.bind(this);\n    this.selectItemsAction = itemsComponents.selectItemsAction.bind(this);\n    this.previewItem = itemsComponents.previewItem.bind(this);\n    this.spawnItemActionSheet = itemsComponents.spawnItemActionSheet.bind(this);\n    this.moveItem = itemsComponents.moveItem.bind(this);\n    this.renameItem = itemsComponents.renameItem.bind(this);\n    this.trashItem = itemsComponents.trashItem.bind(this);\n    this.shareItem = itemsComponents.shareItem.bind(this);\n    this.makeItemAvailableOffline = itemsComponents.makeItemAvailableOffline.bind(this);\n    this.moveFolder = itemsComponents.moveFolder.bind(this);\n    this.moveFile = itemsComponents.moveFile.bind(this);\n    this.dirExists = itemsComponents.dirExists.bind(this);\n    this.moveSelectedItems = itemsComponents.moveSelectedItems.bind(this);\n    this.trashSelectedItems = itemsComponents.trashSelectedItems.bind(this);\n    this.openPublicLinkModal = itemsComponents.openPublicLinkModal.bind(this);\n    this.restoreItem = itemsComponents.restoreItem.bind(this);\n    this.restoreSelectedItems = itemsComponents.restoreSelectedItems.bind(this);\n    this.getSelectedItems = itemsComponents.getSelectedItems.bind(this);\n    this.shareItemWithEmail = itemsComponents.shareItemWithEmail.bind(this);\n    this.removeSharedInItem = itemsComponents.removeSharedInItem.bind(this);\n    this.stopSharingItem = itemsComponents.stopSharingItem.bind(this);\n    this.removeSelectedItemsFromSharedIn = itemsComponents.removeSelectedItemsFromSharedIn.bind(this);\n    this.stopSharingSelectedItems = itemsComponents.stopSharingSelectedItems.bind(this);\n    this.downloadSelectedItems = itemsComponents.downloadSelectedItems.bind(this);\n    this.shareSelectedItems = itemsComponents.shareSelectedItems.bind(this);\n    this.storeSelectedItemsOffline = itemsComponents.storeSelectedItemsOffline.bind(this);\n    this.getFileThumbnail = itemsComponents.getFileThumbnail.bind(this);\n    this.colorItem = itemsComponents.colorItem.bind(this);\n    this.spawnToast = spawnComponents.spawnToast.bind(this);\n    this.spawnMoveToast = spawnComponents.spawnMoveToast.bind(this);\n    this.mainFabAction = spawnComponents.mainFabAction.bind(this);\n    this.mainMenuPopover = spawnComponents.mainMenuPopover.bind(this);\n    this.spawnRenamePrompt = spawnComponents.spawnRenamePrompt.bind(this);\n    this.setMainSearchTerm = searchComponents.setMainSearchTerm.bind(this);\n    this.hideMainSearchbar = searchComponents.hideMainSearchbar.bind(this);\n    this.queueFileUpload = uploadComponents.queueFileUpload.bind(this);\n    this.fileExists = uploadComponents.fileExists.bind(this);\n    this.markUploadAsDone = uploadComponents.markUploadAsDone.bind(this);\n    this.uploadChunk = uploadComponents.uploadChunk.bind(this);\n    this.queueFileDownload = downloadComponents.queueFileDownload.bind(this);\n    this.getDownloadDir = downloadComponents.getDownloadDir.bind(this);\n    this.downloadFileChunk = downloadComponents.downloadFileChunk.bind(this);\n    this.writeChunkToFile = downloadComponents.writeChunkToFile.bind(this);\n    this.downloadPreview = downloadComponents.downloadPreview.bind(this);\n    this.getThumbnail = downloadComponents.getThumbnail.bind(this);\n    this.getThumbnailDir = downloadComponents.getThumbnailDir.bind(this);\n    this.openSettingsModal = settingsComponents.openSettingsModal.bind(this);\n    this.render = renderComponents.render.bind(this);\n    this.state = {\n      mainToolbarTitle: \"My Cloud\",\n      itemList: [],\n      isLoggedIn: false,\n      userAPIKey: \"\",\n      userMasterKeys: [],\n      userPublicKey: \"\",\n      userPrivateKey: \"\",\n      selectedItems: 0,\n      currentHref: window.location.href,\n      darkMode: false,\n      userEmail: \"testnet@filen.io\",\n      userStorageUsagePercentage: 0,\n      searchbarOpen: false,\n      windowHeight: window.innerHeight,\n      windowWidth: window.innerWidth,\n      mainSearchTerm: \"\",\n      lang: \"en\",\n      showMainToolbarBackButton: false,\n      transferBadeShowing: false,\n      transferBadeCount: 0,\n      userStorageUsageMenuText: language.get(\"en\", \"userStorageUsageMenuText\", false, [\"__MAX__\", \"__PERCENTAGE__\"], [utils.formatBytes(0), 0]),\n      userCurrentStorageUsage: 0,\n      userMaxStorage: 0,\n      currentReceiverId: 0,\n      uploads: {},\n      downloads: {},\n      uploadsCount: 0,\n      downloadsCount: 0,\n      settings: {\n        onlyWifi: false\n      },\n      scrollToIndex: 0\n    };\n    this.componentDidMount = this.componentDidMount.bind(this);\n  }\n\n  componentDidMount() {\n    this.setupWindowFunctions();\n    this.setupListeners();\n    this.windowRouter();\n    this.doSetup();\n  }\n\n}","map":{"version":3,"sources":["/Users/jan/Documents/filen/app/src/App.tsx"],"names":["React","windowComponents","setupComponents","routerComponents","loginComponents","itemsComponents","spawnComponents","searchComponents","renderComponents","registerComponents","userComponents","uploadComponents","downloadComponents","settingsComponents","socketCompontents","language","utils","require","App","PureComponent","constructor","props","initSocket","bind","sendSocket","windowRouter","setupWindowFunctions","setupListeners","setupStatusbar","doSetup","routeTo","routeToFolder","goToFolder","goBack","showLogin","showRegister","updateUserKeys","updateUserUsage","updateItemList","refreshMainList","selectItem","clearSelectedItems","selectItemsAction","previewItem","spawnItemActionSheet","moveItem","renameItem","trashItem","shareItem","makeItemAvailableOffline","moveFolder","moveFile","dirExists","moveSelectedItems","trashSelectedItems","openPublicLinkModal","restoreItem","restoreSelectedItems","getSelectedItems","shareItemWithEmail","removeSharedInItem","stopSharingItem","removeSelectedItemsFromSharedIn","stopSharingSelectedItems","downloadSelectedItems","shareSelectedItems","storeSelectedItemsOffline","getFileThumbnail","colorItem","spawnToast","spawnMoveToast","mainFabAction","mainMenuPopover","spawnRenamePrompt","setMainSearchTerm","hideMainSearchbar","queueFileUpload","fileExists","markUploadAsDone","uploadChunk","queueFileDownload","getDownloadDir","downloadFileChunk","writeChunkToFile","downloadPreview","getThumbnail","getThumbnailDir","openSettingsModal","render","state","mainToolbarTitle","itemList","isLoggedIn","userAPIKey","userMasterKeys","userPublicKey","userPrivateKey","selectedItems","currentHref","window","location","href","darkMode","userEmail","userStorageUsagePercentage","searchbarOpen","windowHeight","innerHeight","windowWidth","innerWidth","mainSearchTerm","lang","showMainToolbarBackButton","transferBadeShowing","transferBadeCount","userStorageUsageMenuText","get","formatBytes","userCurrentStorageUsage","userMaxStorage","currentReceiverId","uploads","downloads","uploadsCount","downloadsCount","settings","onlyWifi","scrollToIndex","componentDidMount"],"mappings":"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","sourcesContent":["import React from \"react\"\n\nimport * as windowComponents from \"./components/window\"\nimport * as setupComponents from \"./components/setup\"\nimport * as routerComponents from \"./components/router\"\nimport * as loginComponents from \"./components/login\"\nimport * as itemsComponents from \"./components/items\"\nimport * as spawnComponents from \"./components/spawn\"\nimport * as searchComponents from \"./components/search\"\nimport * as renderComponents from \"./components/render\"\nimport * as registerComponents from \"./components/register\"\nimport * as userComponents from \"./components/user\"\nimport * as uploadComponents from \"./components/upload\"\nimport * as downloadComponents from \"./components/download\"\nimport * as settingsComponents from \"./components/settings\"\nimport * as socketCompontents from \"./components/socket\"\n\nimport * as language from \"./utils/language\"\n\nconst utils = require(\"./utils/utils\")\n\ndeclare global {\n    interface Window {\n\t\tcurrentHref: string,\n\t\tselectedItems: Array<any>,\n\t\tcustomFunctions: any,\n\t\tcustomVariables: any\n    }\n}\n\ninterface AppStates {\n\tmainToolbarTitle: string,\n\titemList: Array<any>,\n\tisLoggedIn: boolean,\n\tuserAPIKey: string,\n\tuserMasterKeys: Array<any>,\n\tuserPublicKey: string,\n\tuserPrivateKey: string,\n\tselectedItems: number,\n\tcurrentHref: string,\n\tdarkMode: boolean,\n\tuserEmail: string,\n\tuserStorageUsagePercentage: number,\n\tsearchbarOpen: boolean,\n\twindowHeight: number,\n\twindowWidth: number,\n\tmainSearchTerm: string,\n\tlang: string,\n\tshowMainToolbarBackButton: boolean,\n\ttransferBadeShowing: boolean,\n\ttransferBadeCount: number,\n\tuserStorageUsageMenuText: string,\n\tuserCurrentStorageUsage: number,\n\tuserMaxStorage: number,\n\tcurrentReceiverId: number,\n\tuploads: any,\n\tdownloads: any,\n\tuploadsCount: number,\n\tdownloadsCount: number,\n\tsettings: any,\n\tscrollToIndex: number\n}\n\nexport default class App extends React.PureComponent<{}, AppStates> {\n    constructor(props){\n    \tsuper(props)\n\n        this.state = {\n        \tmainToolbarTitle: \"My Cloud\",\n        \titemList: [],\n        \tisLoggedIn: false,\n        \tuserAPIKey: \"\",\n        \tuserMasterKeys: [],\n\t\t\tuserPublicKey: \"\",\n\t\t\tuserPrivateKey: \"\",\n\t\t\tselectedItems: 0,\n\t\t\tcurrentHref: window.location.href,\n\t\t\tdarkMode: false,\n\t\t\tuserEmail: \"testnet@filen.io\",\n\t\t\tuserStorageUsagePercentage: 0,\n\t\t\tsearchbarOpen: false,\n\t\t\twindowHeight: window.innerHeight,\n\t\t\twindowWidth: window.innerWidth,\n\t\t\tmainSearchTerm: \"\",\n\t\t\tlang: \"en\",\n\t\t\tshowMainToolbarBackButton: false,\n\t\t\ttransferBadeShowing: false,\n\t\t\ttransferBadeCount: 0,\n\t\t\tuserStorageUsageMenuText: language.get(\"en\", \"userStorageUsageMenuText\", false, [\"__MAX__\", \"__PERCENTAGE__\"], [utils.formatBytes(0), 0]),\n\t\t\tuserCurrentStorageUsage: 0,\n\t\t\tuserMaxStorage: 0,\n\t\t\tcurrentReceiverId: 0,\n\t\t\tuploads: {},\n\t\t\tdownloads: {},\n\t\t\tuploadsCount: 0,\n\t\t\tdownloadsCount: 0,\n\t\t\tsettings: {\n\t\t\t\tonlyWifi: false\n\t\t\t},\n\t\t\tscrollToIndex: 0\n\t\t}\n\n\t\tthis.componentDidMount = this.componentDidMount.bind(this)\n\t}\n\n\tcomponentDidMount(){\n\t\tthis.setupWindowFunctions()\n\t\tthis.setupListeners()\n\t\tthis.windowRouter()\n\n\t\tthis.doSetup()\n\t}\n\n\tinitSocket = socketCompontents.initSocket.bind(this)\n\tsendSocket = socketCompontents.sendSocket.bind(this)\n\n\twindowRouter = windowComponents.windowRouter.bind(this)\n\tsetupWindowFunctions = windowComponents.setupWindowFunctions.bind(this)\n\n\tsetupListeners = setupComponents.setupListeners.bind(this)\n\tsetupStatusbar = setupComponents.setupStatusbar.bind(this)\n\tdoSetup = setupComponents.doSetup.bind(this)\n\n\trouteTo = routerComponents.routeTo.bind(this)\n\trouteToFolder = routerComponents.routeToFolder.bind(this)\n\tgoToFolder = routerComponents.goToFolder.bind(this)\n\tgoBack = routerComponents.goBack.bind(this)\n\n\tshowLogin = loginComponents.showLogin.bind(this)\n\tshowRegister = registerComponents.showRegister.bind(this)\n\n\tupdateUserKeys = userComponents.updateUserKeys.bind(this)\n\tupdateUserUsage = userComponents.updateUserUsage.bind(this)\n\n    updateItemList = itemsComponents.updateItemList.bind(this)\n\trefreshMainList = itemsComponents.refreshMainList.bind(this)\n\tselectItem = itemsComponents.selectItem.bind(this)\n\tclearSelectedItems = itemsComponents.clearSelectedItems.bind(this)\n\tselectItemsAction = itemsComponents.selectItemsAction.bind(this)\n\tpreviewItem = itemsComponents.previewItem.bind(this)\n\tspawnItemActionSheet = itemsComponents.spawnItemActionSheet.bind(this)\n\tmoveItem = itemsComponents.moveItem.bind(this)\n\trenameItem = itemsComponents.renameItem.bind(this)\n\ttrashItem = itemsComponents.trashItem.bind(this)\n\tshareItem = itemsComponents.shareItem.bind(this)\n\tmakeItemAvailableOffline = itemsComponents.makeItemAvailableOffline.bind(this)\n\tmoveFolder = itemsComponents.moveFolder.bind(this)\n\tmoveFile = itemsComponents.moveFile.bind(this)\n\tdirExists = itemsComponents.dirExists.bind(this)\n\tmoveSelectedItems = itemsComponents.moveSelectedItems.bind(this)\n\ttrashSelectedItems = itemsComponents.trashSelectedItems.bind(this)\n\topenPublicLinkModal = itemsComponents.openPublicLinkModal.bind(this)\n\trestoreItem = itemsComponents.restoreItem.bind(this)\n\trestoreSelectedItems = itemsComponents.restoreSelectedItems.bind(this)\n\tgetSelectedItems = itemsComponents.getSelectedItems.bind(this)\n\tshareItemWithEmail = itemsComponents.shareItemWithEmail.bind(this)\n\tremoveSharedInItem = itemsComponents.removeSharedInItem.bind(this)\n\tstopSharingItem = itemsComponents.stopSharingItem.bind(this)\n\tremoveSelectedItemsFromSharedIn = itemsComponents.removeSelectedItemsFromSharedIn.bind(this)\n\tstopSharingSelectedItems = itemsComponents.stopSharingSelectedItems.bind(this)\n\tdownloadSelectedItems = itemsComponents.downloadSelectedItems.bind(this)\n\tshareSelectedItems = itemsComponents.shareSelectedItems.bind(this)\n\tstoreSelectedItemsOffline = itemsComponents.storeSelectedItemsOffline.bind(this)\n\tgetFileThumbnail = itemsComponents.getFileThumbnail.bind(this)\n\tcolorItem = itemsComponents.colorItem.bind(this)\n\n    spawnToast = spawnComponents.spawnToast.bind(this)\n    spawnMoveToast = spawnComponents.spawnMoveToast.bind(this)\n\tmainFabAction = spawnComponents.mainFabAction.bind(this)\n\tmainMenuPopover = spawnComponents.mainMenuPopover.bind(this)\n\tspawnRenamePrompt = spawnComponents.spawnRenamePrompt.bind(this)\n\n\tsetMainSearchTerm = searchComponents.setMainSearchTerm.bind(this)\n\thideMainSearchbar = searchComponents.hideMainSearchbar.bind(this)\n\n\tqueueFileUpload = uploadComponents.queueFileUpload.bind(this)\n\tfileExists = uploadComponents.fileExists.bind(this)\n\tmarkUploadAsDone = uploadComponents.markUploadAsDone.bind(this)\n\tuploadChunk = uploadComponents.uploadChunk.bind(this)\n\n\tqueueFileDownload = downloadComponents.queueFileDownload.bind(this)\n\tgetDownloadDir = downloadComponents.getDownloadDir.bind(this)\n\tdownloadFileChunk = downloadComponents.downloadFileChunk.bind(this)\n\twriteChunkToFile = downloadComponents.writeChunkToFile.bind(this)\n\tdownloadPreview = downloadComponents.downloadPreview.bind(this)\n\tgetThumbnail = downloadComponents.getThumbnail.bind(this)\n\tgetThumbnailDir = downloadComponents.getThumbnailDir.bind(this)\n\n\topenSettingsModal = settingsComponents.openSettingsModal.bind(this)\n\n    render = renderComponents.render.bind(this)\n}"]},"metadata":{},"sourceType":"module"}