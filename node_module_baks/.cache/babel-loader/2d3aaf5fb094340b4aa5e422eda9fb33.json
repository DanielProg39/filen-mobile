{"ast":null,"code":"import { io } from \"socket.io-client\";\n\nconst utils = require(\"../utils/utils\");\n\nexport function initSocket() {\n  if (!this.state.isLoggedIn) {\n    return false;\n  }\n\n  if (typeof window.customVariables.socket !== \"undefined\") {\n    return false;\n  }\n\n  window.customVariables.socket = io(\"https://socket.filen.io\", {\n    path: \"\",\n    reconnect: true,\n    transports: [\"websocket\"]\n  });\n  window.customVariables.socket.on(\"connect\", () => {\n    this.setState({\n      socketConnected: true\n    });\n    console.log(\"Connected to socket\");\n  });\n  window.customVariables.socket.on(\"disconnect\", () => {\n    this.setState({\n      socketConnected: false\n    });\n    console.log(\"Disconnected from socket\");\n  });\n  window.customVariables.socket.on(\"message\", data => {\n    console.log(data);\n  });\n}\nexport function sendSocket(message, data) {\n  if (!this.state.isLoggedIn) {\n    return false;\n  }\n\n  if (typeof window.customVariables.socket == \"undefined\") {\n    return false;\n  }\n\n  window.customVariables.socket.emit(message, data);\n  return true;\n}","map":{"version":3,"sources":["/Users/jan/Documents/filen/app/src/components/socket.js"],"names":["io","utils","require","initSocket","state","isLoggedIn","window","customVariables","socket","path","reconnect","transports","on","setState","socketConnected","console","log","data","sendSocket","message","emit"],"mappings":"AAAA,SAASA,EAAT,QAAmB,kBAAnB;;AAEA,MAAMC,KAAK,GAAGC,OAAO,CAAC,gBAAD,CAArB;;AAEA,OAAO,SAASC,UAAT,GAAqB;AACxB,MAAG,CAAC,KAAKC,KAAL,CAAWC,UAAf,EAA0B;AACtB,WAAO,KAAP;AACH;;AAED,MAAG,OAAOC,MAAM,CAACC,eAAP,CAAuBC,MAA9B,KAAyC,WAA5C,EAAwD;AACpD,WAAO,KAAP;AACH;;AAEDF,EAAAA,MAAM,CAACC,eAAP,CAAuBC,MAAvB,GAAgCR,EAAE,CAAC,yBAAD,EAA4B;AAChES,IAAAA,IAAI,EAAE,EAD0D;AAEhEC,IAAAA,SAAS,EAAE,IAFqD;AAGhEC,IAAAA,UAAU,EAAE,CACX,WADW;AAHoD,GAA5B,CAAlC;AAQAL,EAAAA,MAAM,CAACC,eAAP,CAAuBC,MAAvB,CAA8BI,EAA9B,CAAiC,SAAjC,EAA4C,MAAM;AAC9C,SAAKC,QAAL,CAAc;AACVC,MAAAA,eAAe,EAAE;AADP,KAAd;AAIAC,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACH,GAND;AAQAV,EAAAA,MAAM,CAACC,eAAP,CAAuBC,MAAvB,CAA8BI,EAA9B,CAAiC,YAAjC,EAA+C,MAAM;AACjD,SAAKC,QAAL,CAAc;AACVC,MAAAA,eAAe,EAAE;AADP,KAAd;AAIAC,IAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AACH,GAND;AAQAV,EAAAA,MAAM,CAACC,eAAP,CAAuBC,MAAvB,CAA8BI,EAA9B,CAAiC,SAAjC,EAA6CK,IAAD,IAAU;AAClDF,IAAAA,OAAO,CAACC,GAAR,CAAYC,IAAZ;AACH,GAFD;AAGH;AAED,OAAO,SAASC,UAAT,CAAoBC,OAApB,EAA6BF,IAA7B,EAAkC;AACrC,MAAG,CAAC,KAAKb,KAAL,CAAWC,UAAf,EAA0B;AACtB,WAAO,KAAP;AACH;;AAED,MAAG,OAAOC,MAAM,CAACC,eAAP,CAAuBC,MAA9B,IAAwC,WAA3C,EAAuD;AACnD,WAAO,KAAP;AACH;;AAEDF,EAAAA,MAAM,CAACC,eAAP,CAAuBC,MAAvB,CAA8BY,IAA9B,CAAmCD,OAAnC,EAA4CF,IAA5C;AAEA,SAAO,IAAP;AACH","sourcesContent":["import { io } from \"socket.io-client\"\n\nconst utils = require(\"../utils/utils\")\n\nexport function initSocket(){\n    if(!this.state.isLoggedIn){\n        return false\n    }\n\n    if(typeof window.customVariables.socket !== \"undefined\"){\n        return false\n    }\n\n    window.customVariables.socket = io(\"https://socket.filen.io\", {\n\t\tpath: \"\",\n\t\treconnect: true,\n\t\ttransports: [\n\t\t\t\"websocket\"\n\t\t]\n\t})\n\n    window.customVariables.socket.on(\"connect\", () => {\n        this.setState({\n            socketConnected: true\n        })\n\n        console.log(\"Connected to socket\")\n    })\n\n    window.customVariables.socket.on(\"disconnect\", () => {\n        this.setState({\n            socketConnected: false\n        })\n\n        console.log(\"Disconnected from socket\")\n    })\n\n    window.customVariables.socket.on(\"message\", (data) => {\n        console.log(data)\n    })\n}\n\nexport function sendSocket(message, data){\n    if(!this.state.isLoggedIn){\n        return false\n    }\n\n    if(typeof window.customVariables.socket == \"undefined\"){\n        return false\n    }\n\n    window.customVariables.socket.emit(message, data)\n\n    return true\n}"]},"metadata":{},"sourceType":"module"}